@import "../../../base/src/scss/imports/variables";
@import "../../../base/src/scss/imports/layout";
@import "../../../base/src/scss/imports/utility";

.block--tile.block {

  // The tile container must extend 1rem left and right of its container
  // in order to make the title text line up with its container...
  margin-left: rem(-1);
  width: calc(100% + #{rem(2)});
  background: $nittany-navy center;
  background-size: cover;
  overflow: hidden;
  position:relative;
  transition: all .2s ease-in-out, outline-offset 0;
  padding-bottom: 56.25%;
  &:focus-within {
    outline: 0.2rem solid #009cde;
    outline-offset: 0.2rem;
  }
  @include bp(xs) {
    margin-left: 0;
    width: 100%;
  }

  @include bp(m) {
    height: rem(21);
    padding-bottom: 0;
  }

  &:hover {
    & .tile__link {
      background: radial-gradient(circle, rgba($nittany-navy, 0) calc(100% / 3), rgba($nittany-navy, calc(1/3)), 75%, rgba($nittany-navy, calc(2/3)) 100%);
    }

    & .tile__title {
      background-color: $primary-blue;
      box-shadow: rem(1) 0 0 0 $primary-blue, rem(-1) 0 0 0 $primary-blue; // Hack for Edge + IE11

      & span {
        color: $white;
      }
    }

    & .tile__read-more {
      @include bp(m) {
        opacity: 1;
      }
    }
  }

  .tile {
    &__image {
      position: absolute;
    }

    &__link {
      background-color: transparent;
      border-bottom: 0;
      display: block;
      height: 100%;
      position:absolute;
      width: 100%;

    }

    &__content {
      pointer-events: none;
      position:absolute;
      top: rem(3);
      left: rem(2);
      max-width: 82%; // There is no calculation behind this number.

      @include bp(m) {
        min-height: rem(21);
        left: rem(2.5);
      }
    }

    &__title {
      @include tile-nav-highlight-title($beaver-blue, $white, $white);
      .sprite {
        font-size: rem(1.2);
        margin-left: rem(1);
      }
    }

    &__read-more {
      @include tile-nav-read-more($white);
      .read-more {
        color: $white;
      }
    }

    &__title,
    &__link,
    &__read-more {
      transition: all .2s ease-in-out;
    }

    // Hover effects.
    &__link:active,
    &__link:focus {
      background: radial-gradient(circle, rgba($nittany-navy, 0) calc(100% / 3), rgba($nittany-navy, calc(1/3)), 75%, rgba($nittany-navy, calc(2/3)) 100%);

      & ~ .tile__content {
        .tile__title {
          background-color: $primary-blue;
          box-shadow: rem(1) 0 0 0 $primary-blue, rem(-1) 0 0 0 $primary-blue; // Hack for Edge + IE11
          & span {
            color: $white;
          }
        }
      }

      & ~ .tile__read-more {

        @include bp(m) {
          opacity: 1;
        }
      }
    }
  }
}
