{% if heading_level not in ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] %}
  {% set heading_level = 'h2' %}
{% endif %}

{% if color not in ['light-grey', 'beaver-blue'] %}
  {% set color = 'light-grey' %}
{% endif %}

{% set classes = [
  'intro-form',
  color in ['beaver-blue'] ? 'intro-form--' ~ color,
] %}

<div class="{{ classes|join(' ') }}">
  {% set bg_content %}
    <div class="intro-form__container">
      <div class="intro-form__first">
        {% if images %}
          <div class="intro-form__image">
            {% if images|length > 1 %}
              {% include '@psu-ooe/random-item/random-item.twig' with { items: images } only %}
            {% else %}
              {{ images[0] }}
            {% endif %}
          </div>
        {% endif %}
        <div class="intro-form__intro">
          {% include '@psu-ooe/heading/heading.twig' with {
            level: heading_level,
            content: title,
            reversed: true,
          } only %}
          <p class="intro-form__description">{{ description }}</p>
        </div>
      </div>
      <div class="intro-form__second">
        {{ form }}
      </div>
    </div>
  {% endset %}
  {% include '@psu-ooe/background-container/background-container.twig' with {
    color: color,
    background_image: 'shield:topleft-bottomright',
    padding: 'small',
    content: bg_content,
  } only %}
</div>
