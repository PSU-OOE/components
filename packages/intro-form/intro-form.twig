{% if heading_level not in ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'] %}
  {% set heading_level = 'span' %}
{% endif %}

{% if color not in ['light-grey', 'beaver-blue'] %}
  {% set color = 'light-grey' %}
{% endif %}

{% set classes = [
  'intro-form',
  color in ['beaver-blue'] ? 'intro-form--' ~ color,
] %}

<div class="{{ classes|join(' ') }}">
  {% set bg_content %}
    <div class="intro-form__container">
      <div class="intro-form__first">
        <div class="intro-form__border"></div>
        <div class="intro-form__image">
          {% if images|length > 1 %}
            {% include '@molecules/random-item/random-item.twig' with { items: images } only %}
          {% else %}
            {{ images[0] }}
          {% endif %}
        </div>
        <div class="intro-form__intro">
          <div class="intro-form__overlay">
            <{{ heading_level }} class="intro-form__title heading heading--no-overline">
              <span class="intro-form__relative">{{ title }}</span>
            </{{ heading_level }}>
          </div>
          <p class="intro-form__description">{{ description }}</p>
        </div>
      </div>
      <div class="intro-form__second">
        {{ form }}
      </div>
    </div>
  {% endset %}
  {% include '@molecules/background-container/background-container.twig' with {
    color: color,
    background_image: 'shield:topleft-bottomright',
    padding: 'small',
    content: bg_content,
  } only %}
</div>
